üöÄ Starting Intent Extraction Benchmark

Total test cases: 36

[intentExtractor] Extracting from: Find trains from Zurich to Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Zurich', destination: 'Bern' }
[intentExtractor] Extracting from: How do I get to Geneva?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { destination: 'Geneva', origin: 'How Do I Get' }
[intentExtractor] Extracting from: I need to travel tomorrow morning
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: {
  destination: 'Travel',
  origin: 'I Need',
  date: 'tomorrow',
  time: 'morning'
}
[intentExtractor] Extracting from: Zurich to Bern at 14:30
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7000000000000001
[intentExtractor] Extracted entities: { destination: 'Bern', time: '14:30' }
[intentExtractor] Extracting from: Trains from Lausanne
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched trip keywords: 4
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: { origin: 'Lausanne' }
[intentExtractor] Extracting from: Z√ºge von Z√ºrich nach Bern
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Z√ºrich', destination: 'Bern' }
[intentExtractor] Extracting from: Wie komme ich nach Basel?
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { destination: 'Basel', origin: 'Wie Komme Ich' }
[intentExtractor] Extracting from: Trains de Zurich √† Berne
[intentExtractor] User language: fr
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched trip keywords: 4
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: { origin: 'Zurich', destination: 'Berne' }
[intentExtractor] Extracting from: Comment aller √† Gen√®ve?
[intentExtractor] User language: fr
[intentExtractor] Detected languages: [ 'fr' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.8500000000000001
[intentExtractor] Extracted entities: { destination: 'Gen√®ve' }
[intentExtractor] Extracting from: Treni da Zurigo a Berna
[intentExtractor] User language: it
[intentExtractor] Detected languages: [ 'it' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Zurigo', destination: 'Berna' }
Processed 10/36 test cases...
[intentExtractor] Extracting from: What's the weather in Zurich?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched weather keywords: 1
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Zurich' }
[intentExtractor] Extracting from: Will it rain tomorrow?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched weather keywords: 1
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.75
[intentExtractor] Extracted entities: { date: 'tomorrow' }
[intentExtractor] Extracting from: Temperature in Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched weather keywords: 1
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Bern' }
[intentExtractor] Extracting from: Wie ist das Wetter in Luzern?
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched weather keywords: 2
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Luzern' }
[intentExtractor] Extracting from: Quel temps fait-il √† Gen√®ve?
[intentExtractor] User language: fr
[intentExtractor] Detected languages: [ 'fr' ]
[intentExtractor] Matched weather keywords: 1
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Gen√®ve' }
[intentExtractor] Extracting from: Che tempo fa a Lugano?
[intentExtractor] User language: it
[intentExtractor] Detected languages: [ 'it' ]
[intentExtractor] Matched weather keywords: 1
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Lugano' }
[intentExtractor] Extracting from: Snow conditions in Interlaken
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched snow keywords: 2
[intentExtractor] Final intent: snow_conditions
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: { origin: 'Interlaken' }
[intentExtractor] Extracting from: Is it snowing in Zermatt?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched snow keywords: 2
[intentExtractor] Final intent: snow_conditions
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: { origin: 'Zermatt' }
[intentExtractor] Extracting from: Ski conditions at Davos
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched snow keywords: 2
[intentExtractor] Final intent: snow_conditions
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: { origin: 'Davos' }
[intentExtractor] Extracting from: Schneebedingungen in St. Moritz
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched snow keywords: 2
[intentExtractor] Final intent: snow_conditions
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: { origin: 'St. Moritz' }
Processed 20/36 test cases...
[intentExtractor] Extracting from: Show departures from Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched station keywords: 4
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: { origin: 'Bern', eventType: 'departures' }
[intentExtractor] Extracting from: Arrivals at Zurich HB
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched station keywords: 2
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Zurich Hb', eventType: 'arrivals' }
[intentExtractor] Extracting from: What platform for the train to Basel?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched station keywords: 1
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: {
  destination: 'Basel',
  origin: 'What Platform For The Train',
  eventType: 'departures'
}
[intentExtractor] Extracting from: Abfahrten vom Bahnhof Z√ºrich
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched station keywords: 3
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: { eventType: 'departures' }
[intentExtractor] Extracting from: Where is coach 7?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched formation keywords: 2
[intentExtractor] Final intent: train_formation
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: Train composition for IC 815
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched formation keywords: 2
[intentExtractor] Final intent: train_formation
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: Wo ist der Speisewagen?
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched formation keywords: 1
[intentExtractor] Final intent: train_formation
[intentExtractor] Confidence: 0.7
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: O√π est le wagon-restaurant?
[intentExtractor] User language: fr
[intentExtractor] Detected languages: [ 'fr' ]
[intentExtractor] Matched formation keywords: 2
[intentExtractor] Final intent: train_formation
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: Hello
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Final intent: general_info
[intentExtractor] Confidence: 0.5
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: What can you do?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Final intent: general_info
[intentExtractor] Confidence: 0.5
[intentExtractor] Extracted entities: {}
Processed 30/36 test cases...
[intentExtractor] Extracting from: Help me
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Final intent: general_info
[intentExtractor] Confidence: 0.5
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: Danke
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Final intent: general_info
[intentExtractor] Confidence: 0.5
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: Zurich
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Final intent: general_info
[intentExtractor] Confidence: 0.5
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: Train
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.8
[intentExtractor] Extracted entities: {}
[intentExtractor] Extracting from: I want to go
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7
[intentExtractor] Extracted entities: { destination: 'Go', origin: 'I Want' }
[intentExtractor] Extracting from: Train station in Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched station keywords: 2
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Bern', eventType: 'departures' }
‚úÖ All test cases processed

================================================================================
üìä BENCHMARK RESULTS
================================================================================

Overall Metrics:
  Accuracy:  97.22%
  Precision: 98.61%
  Recall:    97.22%
  F1 Score:  97.76%
  Correct:   35/36
  Incorrect: 1/36

Per-Intent Metrics:
--------------------------------------------------------------------------------
Intent              | Precision | Recall | F1 Score | TP | FP | FN
--------------------------------------------------------------------------------
trip_planning       |      91.7 |  100.0 |     95.7 | 11 |  1 |  0
weather_check       |     100.0 |  100.0 |    100.0 |  6 |  0 |  0
snow_conditions     |     100.0 |  100.0 |    100.0 |  4 |  0 |  0
station_search      |     100.0 |  100.0 |    100.0 |  5 |  0 |  0
train_formation     |     100.0 |  100.0 |    100.0 |  4 |  0 |  0
general_info        |     100.0 |   83.3 |     90.9 |  5 |  0 |  1
--------------------------------------------------------------------------------

Confusion Matrix:
--------------------------------------------------------------------------------
Predicted ‚Üí
Actual ‚Üì    | TP | WC | SC | SS | TF | GI
--------------------------------------------------------------------------------
TP (trip_planning  ) | 11 |  0 |  0 |  0 |  0 |  0
WC (weather_check  ) |  0 |  6 |  0 |  0 |  0 |  0
SC (snow_conditions) |  0 |  0 |  4 |  0 |  0 |  0
SS (station_search ) |  0 |  0 |  0 |  5 |  0 |  0
TF (train_formation) |  0 |  0 |  0 |  0 |  4 |  0
GI (general_info   ) |  1 |  0 |  0 |  0 |  0 |  5

Legend:
  TP = trip_planning
  WC = weather_check
  SC = snow_conditions
  SS = station_search
  TF = train_formation
  GI = general_info

‚ùå Failed Cases:
--------------------------------------------------------------------------------

1. "Train"
   Expected:  general_info
   Predicted: trip_planning (confidence: 0.80)
   Notes:     Single keyword - not enough context

================================================================================

üíæ Results saved to: /home/schlpbch/code/sbb-chat-mcp/benchmark-results.json

üéâ Benchmark passed!

