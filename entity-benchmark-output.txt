üöÄ Starting Entity Extraction Benchmark

Total test cases: 25

[intentExtractor] Extracting from: Find trains from Zurich to Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Zurich', destination: 'Bern' }
[intentExtractor] Extracting from: Z√ºge von Z√ºrich nach Bern
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Z√ºrich', destination: 'Bern' }
[intentExtractor] Extracting from: Trains de Zurich √† Berne
[intentExtractor] User language: fr
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched trip keywords: 4
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: { origin: 'Zurich', destination: 'Berne' }
[intentExtractor] Extracting from: Treni da Zurigo a Berna
[intentExtractor] User language: it
[intentExtractor] Detected languages: [ 'it' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Zurigo', destination: 'Berna' }
[intentExtractor] Extracting from: Zurich to Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7
[intentExtractor] Extracted entities: { destination: 'Bern', origin: 'Zurich' }
[intentExtractor] Extracting from: Geneva to Lausanne at 14:30
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7000000000000001
[intentExtractor] Extracted entities: { destination: 'Lausanne', time: '14:30' }
[intentExtractor] Extracting from: Trains from Lausanne
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en', 'fr' ]
[intentExtractor] Matched trip keywords: 4
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.95
[intentExtractor] Extracted entities: { origin: 'Lausanne' }
[intentExtractor] Extracting from: Departures from Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched station keywords: 2
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Bern', eventType: 'departures' }
[intentExtractor] Extracting from: How do I get to Geneva?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { destination: 'Geneva', origin: 'How Do I Get' }
[intentExtractor] Extracting from: Going to Basel
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7
[intentExtractor] Extracted entities: { destination: 'Basel', origin: 'Going' }
Processed 10/25 test cases...
[intentExtractor] Extracting from: What's the weather in Zurich?
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched weather keywords: 1
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.7999999999999999
[intentExtractor] Extracted entities: { origin: 'Zurich' }
[intentExtractor] Extracting from: Wie ist das Wetter in Luzern?
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched weather keywords: 2
[intentExtractor] Final intent: weather_check
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Luzern' }
[intentExtractor] Extracting from: Zurich to Bern tomorrow
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.75
[intentExtractor] Extracted entities: { destination: 'Bern', origin: 'Zurich', date: 'tomorrow' }
[intentExtractor] Extracting from: Trains today
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.8500000000000001
[intentExtractor] Extracted entities: { date: 'today' }
[intentExtractor] Extracting from: Z√ºge morgen
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.75
[intentExtractor] Extracted entities: { date: 'morgen' }
[intentExtractor] Extracting from: Trains next Monday
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.8500000000000001
[intentExtractor] Extracted entities: { date: 'monday' }
[intentExtractor] Extracting from: Zurich to Bern at 14:30
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7000000000000001
[intentExtractor] Extracted entities: { destination: 'Bern', time: '14:30' }
[intentExtractor] Extracting from: Trains at 2:30 pm
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.8500000000000001
[intentExtractor] Extracted entities: { time: '2:30' }
[intentExtractor] Extracting from: Z√ºge um 14:30 Uhr
[intentExtractor] User language: de
[intentExtractor] Detected languages: [ 'de' ]
[intentExtractor] Matched trip keywords: 1
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.75
[intentExtractor] Extracted entities: { time: '14:30' }
[intentExtractor] Extracting from: Trains in the morning
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched trip keywords: 2
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.8500000000000001
[intentExtractor] Extracted entities: { time: 'morning' }
Processed 20/25 test cases...
[intentExtractor] Extracting from: Arrivals at Zurich HB
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched station keywords: 2
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Zurich Hb', eventType: 'arrivals' }
[intentExtractor] Extracting from: Departures from Bern
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched station keywords: 2
[intentExtractor] Final intent: station_search
[intentExtractor] Confidence: 0.9
[intentExtractor] Extracted entities: { origin: 'Bern', eventType: 'departures' }
[intentExtractor] Extracting from: From Zurich to Bern tomorrow at 14:30
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.75
[intentExtractor] Extracted entities: {
  origin: 'Zurich',
  destination: 'Bern',
  date: 'tomorrow',
  time: '14:30'
}
[intentExtractor] Extracting from: St. Gallen to Zurich
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7
[intentExtractor] Extracted entities: { destination: 'Zurich', origin: 'St. Gallen' }
[intentExtractor] Extracting from: Bad Ragaz to Chur
[intentExtractor] User language: en
[intentExtractor] Detected languages: [ 'en' ]
[intentExtractor] Matched implicit trip pattern
[intentExtractor] Final intent: trip_planning
[intentExtractor] Confidence: 0.7
[intentExtractor] Extracted entities: { destination: 'Chur', origin: 'Bad Ragaz' }
‚úÖ All test cases processed

================================================================================
üìä ENTITY EXTRACTION BENCHMARK RESULTS
================================================================================

Overall Entity Accuracy: 90.91%

Per-Entity Metrics:
--------------------------------------------------------------------------------
Entity       | Total | Correct | Incorrect | Missing | Accuracy
--------------------------------------------------------------------------------
origin       |    17 |      15 |         0 |       2 | 88.2%
destination  |    13 |      13 |         0 |       0 | 100.0%
date         |     5 |       4 |         1 |       0 | 80.0%
time         |     6 |       5 |         1 |       0 | 83.3%
eventType    |     3 |       3 |         0 |       0 | 100.0%
--------------------------------------------------------------------------------

‚ùå Failed Extractions:
--------------------------------------------------------------------------------

1. "Geneva to Lausanne at 14:30"
   Entity:   origin
   Expected: "Geneva"
   Actual:   "MISSING"
   Notes:    Missing origin

2. "Trains next Monday"
   Entity:   date
   Expected: "next Monday"
   Actual:   "monday"

3. "Zurich to Bern at 14:30"
   Entity:   origin
   Expected: "Zurich"
   Actual:   "MISSING"
   Notes:    Missing origin

4. "Trains at 2:30 pm"
   Entity:   time
   Expected: "2:30 pm"
   Actual:   "2:30"

================================================================================

üíæ Results saved to: /home/schlpbch/code/sbb-chat-mcp/entity-benchmark-results.json

üéâ Benchmark passed!

